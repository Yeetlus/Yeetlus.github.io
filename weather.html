<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Widget</title>
    <style>
        .weather-widget {
            font-family: Arial, sans-serif;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            width: 200px;
        }
        .weather-icon {
            width: 50px;
            height: 50px;
        }
    </style>
</head>
<body>

<div class="weather-widget" id="weather-widget">
    <h2>Weather</h2>
    <p>Loading...</p>
</div>

<script>
    // Proxy server URL to bypass CORS restrictions
    const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
    // MetaWeather API URL for London, UK
    const apiUrl = 'https://www.metaweather.com/api/location/44418/';
    
    fetch(proxyUrl + apiUrl)
        .then(response => response.json())
        .then(data => {
            const widget = document.getElementById('weather-widget');
            const temperature = data.consolidated_weather[0].the_temp;
            const description = data.consolidated_weather[0].weather_state_name;
            const iconAbbr = data.consolidated_weather[0].weather_state_abbr;
            const iconUrl = `https://www.metaweather.com/static/img/weather/${iconAbbr}.svg`;

            const weatherHtml = `
                <h2>Weather</h2>
                <p>Temperature: ${temperature.toFixed(2)}Â°C</p>
                <p>Description: ${description}</p>
                <img class="weather-icon" src="${iconUrl}" alt="Weather Icon">
            `;
            
            widget.innerHTML = weatherHtml;
        })
        .catch(error => {
            const widget = document.getElementById('weather-widget');
            widget.innerHTML = '<p>Error fetching weather data</p>';
            console.error('Error fetching weather data:', error);
        });
</script>

</body>
</html>
